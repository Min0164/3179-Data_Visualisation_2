{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 600,
    "height": 500,
    "data": {
      "url": "https://raw.githubusercontent.com/Min0164/3179-Data_Visualisation_2/main/data/bubble_chart_data.csv"
    },
    "params": [
        {
            "name": "Year_selection",
            "value": 2010,
            "bind": {
                "input": "range",
                "min": 1985,
                "max": 2015,
                "step": 1,
                "name": "Year:  "
            }
        }
      
    ],
    "transform": [
      
   
      {"filter": "datum.year == Year_selection"}
      
    ],
    "encoding": {
        "x": {
            "field": "gdp_per_capita ($)",
            "type": "quantitative",
            "scale": {"domain": [0.03, 13]},
            "axis": {"tickCount": 15, "title": "GDP per capita in thousands"}
          },
          "y": {
            "field": "HDI for year",
            "type": "quantitative",
            "scale": {"domain": [0.6, 0.95]},
            "axis": {"tickCount": 10, "title": "HDI for year"}
          }},
    "layer": [
      {
        "params": [ {
          "name": "org",
          "select": {"type": "point", "fields": ["country"]},
          "bind": {"input": "select", "options":[
            null,
            "Austria",
              "Finland",
              "Hungary",
              "Russia",
              "Lithuania",
              "Belgium", "Bulgaria", "France", "Greece", "Iceland",
       "Ireland", "Italy", "Luxembourg", "Malta", "Netherlands",
       "Portugal", "Spain", "United Kingdom", "Norway",
       "Sweden", "Ukraine", "Romania", "Armenia", "Azerbaijan",
       "Belarus", "Czech Republic", "Georgia", "Germany", "Poland",
       "Slovakia", "Denmark", "Albania", "Croatia", "Estonia",
       "Latvia", "Slovenia", "Switzerland", "Serbia",
       "Cyprus", "San Marino", "Montenegro", "Turkey",
       "Bosnia and Herzegovina"],
       "labels": [
        "Show All",
        "Austria",
              "Finland",
              "Hungary",
              "Russia",
              "Lithuania",
              "Belgium", "Bulgaria", "France", "Greece", "Iceland",
       "Ireland", "Italy", "Luxembourg", "Malta", "Netherlands",
       "Portugal", "Spain", "United Kingdom", "Norway",
       "Sweden", "Ukraine", "Romania", "Armenia", "Azerbaijan",
       "Belarus", "Czech Republic", "Georgia", "Germany", "Poland",
       "Slovakia", "Denmark", "Albania", "Croatia", "Estonia",
       "Latvia", "Slovenia", "Switzerland", "Serbia",
       "Cyprus", "San Marino", "Montenegro", "Turkey",
       "Bosnia and Herzegovina"
       ], "name": "Country Selection"}
        }],
        "mark": "circle",
        "encoding": {
          "size":{"value":300},
          
          "color": {
            "field": "country",
            "type": "nominal",
            "scale":{"scheme":"category10"},
            "legend":null
          },
          "opacity": {
            "condition": {"param": "org", "value": 1},
            "value": 0.2
            },
            
          "tooltip": [
            {"field": "country", "type": "nominal","title":"Country"},
            {"field": "gdp_per_capita ($)", "type": "quantitative", "format": ".2f","title":"GDP per capita in thousands"},
            {"field": "HDI for year", "type": "quantitative","title":"HDI for year"}
          ]
        }
      },
      {
        "mark": {
          "type": "text",
          "align": "right",
          "baseline": "bottom",
          "dx": -12,
          "fontSize": 11.5,
          "fontStyle": "italic",
          "fontWeight":"bold"
        },
        "encoding": {
          "text": {"field": "country", "type": "nominal"},
          "color": {"value": "black"},

          "opacity": {
            "condition": {
              "test": "datum['country'] == 'Austria' || datum['country'] == 'Finland' || datum['country'] == 'Russia' || datum['country'] == 'United Kingdom' || datum['country'] == 'Lithuania' || datum['country'] == 'Hungary'",
              "value": 1
            },
            "value": 0
          },
          "tooltip": [
            {"field": "country", "type": "nominal"},
            {"field": "gdp_per_capita ($)", "type": "quantitative", "format": ".2f","title":"GDP per capita in thousands"},
            {"field": "HDI for year", "type": "quantitative","title":"HDI for year"}
          ]
        }
      }
    ],"resolve": {"scale": {"x": "shared"}}
  }